import{_ as b,o as n,c as a,b as t,d as i,w as u,r,a as h,L as x,m as y,R as V,F as g,l as m,D as C,E as A,t as d}from"./index-02f048a3.js";import{c as v}from"./cart-70f2c7c3.js";import{P as T}from"./PaginationModal-33a59644.js";const E={},L={style:{width:"100%",height:"768px","background-image":"url(./images/ProductsHeader_banner.jpg)","background-repeat":"no-repeat","background-position":"left top","background-size":"cover",position:"relative"},class:"vh-100"},H={class:"container"},R={class:"row"},D={class:"col"},M=t("button",{type:"button",class:"btn btn-custom_btn-color btn-lg text-white"}," 享用時光 ",-1);function S(o,s,f,P,c,l){const _=r("router-link");return n(),a("header",L,[t("div",H,[t("div",R,[t("div",D,[i(_,{to:"/products",style:{position:"absolute",left:"50%",transform:"translateX(-50%) translateY(50%)",bottom:"60px"}},{default:u(()=>[M]),_:1})])])])])}const B=b(E,[["render",S]]),{VITE_API:F,VITE_PATH:N}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"qoqvuedemo",BASE_URL:"/Vite_week6/",MODE:"production",DEV:!1,PROD:!0},j={name:"ProductsView",data(){return{products:[],productId:"",page:{},productsTab:["全部","主食","早午餐","漢堡","炸物","甜點","沙拉","飲料"],isActive:"全部"}},methods:{...h(v,["addToCart","getCarts"]),...h(x,["showLoading","hideLoading"]),getProducts(o=1){this.$http.get(`${F}api/${N}/products?page=${o}`).then(s=>{this.products=s.data.products,this.page=s.data.pagination,this.hideLoading()}).catch(s=>{alert(s.response.data.message),this.hideLoading()})}},computed:{...y(v,["cart"]),productsFiltered(){return this.isActive==="全部"?this.products:this.products.filter(o=>o.category===this.isActive)}},components:{RouterView:V,ProductsHeader:B,PaginationModal:T},mounted(){this.showLoading(),this.getProducts()}},q={class:"nav nav-tabs m-5 p-5 justify-content-center flex-nowrap text-nowrap"},z=["onClick"],O={class:"container text-custom_medium-green"},U={class:"mt-4"},X={class:"row"},Y={class:"card rounded-3"},G=["src","alt"],J={class:"card-body"},K={class:"card-title"},Q={class:"badge bg-custom_dark-green rounded-pill"},W={class:"card-text"},Z={class:"card-footer text-center"},I=t("button",{type:"button",class:"btn btn-outline-secondary mx-4"}," 查看更多 ",-1),tt=["onClick"];function et(o,s,f,P,c,l){const _=r("RouterView"),k=r("ProductsHeader"),p=r("router-link"),w=r("PaginationModal");return n(),a("div",null,[i(_),i(k),t("ul",q,[(n(!0),a(g,null,m(c.productsTab,e=>(n(),a("li",{class:"nav-item",key:e},[t("a",{href:"#",class:C(["nav-link",{active:c.isActive===e}]),onClick:A($=>c.isActive=e,["prevent"])},d(e),11,z)]))),128))]),t("div",O,[t("div",U,[t("div",null,[t("div",X,[(n(!0),a(g,null,m(l.productsFiltered,e=>(n(),a("div",{class:"col-md-4 g-4",key:e.id},[t("div",Y,[i(p,{to:`/product/${e.id}`},{default:u(()=>[t("img",{src:e.imageUrl,class:"card-img-top rounded-3",alt:e.title,width:"200",height:"300"},null,8,G)]),_:2},1032,["to"]),t("div",J,[t("div",null,[t("h5",K,d(e.title),1),t("span",Q,d(e.category),1)]),t("p",W,"NT$ "+d(e.price),1)]),t("div",Z,[i(p,{to:`/product/${e.id}`},{default:u(()=>[I]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-outline-custom_dark-green mx-4",onClick:$=>o.addToCart(e.id)}," 加入商品 ",8,tt)])])]))),128))])]),i(w,{pages:c.page,onChangePage:l.getProducts},null,8,["pages","onChangePage"])])])])}const at=b(j,[["render",et]]);export{at as default};
