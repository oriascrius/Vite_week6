import{_,o as u,c as m,b as e,d as s,w as r,E as $,r as c,e as h,n as k,H as v,F as g}from"./index-557675f0.js";const b={data(){return{}},methods:{signout(){document.cookie="qoqVueDemo=;expires=; path=/",this.$swal.fire({title:"確定要登出嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#9CA57C",cancelButtonColor:"#FE7264",confirmButtonText:"確定",cancelButtonText:"取消"}).then(t=>{t.isConfirmed&&this.$router.push("/login")})}}},x={class:"container"},w={class:"navbar navbar-expand-md"},B=e("h1",{style:{"background-image":"url('/images/Logo.jpg')","background-size":"cover","background-position":"center",height:"62.12px",width:"297px"}},null,-1),C={class:"ms-auto me-5"};function V(t,n,a,p,d,i){const o=c("router-link");return u(),m("div",x,[e("nav",w,[s(o,{to:"/",class:"navbar-brand"},{default:r(()=>[B]),_:1}),e("div",C,[e("button",{class:"btn btn-custom_medium-green btn-sm rounded text-white",onClick:n[0]||(n[0]=$((...l)=>i.signout&&i.signout(...l),["prevent"]))}," 登出 ")])])])}const A=_(b,[["render",V]]),T={data(){return{}}},N={class:"mt-3"},q={class:"nav nav-tabs"},D={class:"nav-item active"},E={class:"nav-item"},F={class:"nav-item"};function L(t,n,a,p,d,i){const o=c("router-link");return u(),m("div",N,[e("ul",q,[e("li",D,[s(o,{to:"/admin/products",class:"nav-link"},{default:r(()=>[h("商品管理")]),_:1})]),e("li",E,[s(o,{to:"/admin/orders",class:"nav-link"},{default:r(()=>[h("訂單管理")]),_:1})]),e("li",F,[s(o,{to:"/admin/coupons",class:"nav-link",href:"#"},{default:r(()=>[h("優惠卷管理")]),_:1})])])])}const S=_(T,[["render",L]]),y={name:"DashboardView",data(){return{checkSuccess:!1}},components:{AdminTabs:S,AdminNavs:A},mounted(){this.checkLogin()},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)qoqVueDemo\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){this.$http.defaults.headers.common.Authorization=`${t}`;const n="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(n,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(a=>{alert(a.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signout(){document.cookie="qoqVueDemo=;expires=;",this.$swal.fire({title:"確定要登出嗎？",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then(t=>{t.isConfirmed&&this.$router.push("/login")})}}},z={class:"container"};function j(t,n,a,p,d,i){const o=c("AdminNavs"),l=c("AdminTabs"),f=c("router-view");return u(),m(g,null,[s(o),e("div",z,[s(l),d.checkSuccess?(u(),k(f,{key:0})):v("",!0)])],64)}const M=_(y,[["render",j]]);export{M as default};
