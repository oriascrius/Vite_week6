import{_ as f,c as i,b as s,I as h,t as e,H as x,F as v,y,d as g,w,r as O,o as r}from"./index-a0ce355d.js";const{VITE_API:p,VITE_PATH:m}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"qoqvuedemo",BASE_URL:"/Vite_week6/",MODE:"production",DEV:!1,PROD:!0},j={data(){return{order:{products:[],user:{}}}},methods:{getOrder(){this.$http.get(`${p}api/${m}/order/${this.orderId}`).then(l=>{const{order:d}=l.data;this.order=d}).catch(()=>{})},payOrder(){this.$http.post(`${p}api/${m}/pay/${this.orderId}`).then(()=>{this.getOrder()}).catch(()=>{})}},mounted(){this.orderId=this.$route.params.orderId,this.getOrder()}},E={class:"container"},V={class:"row"},T={class:"col-md-6 text-custom_medium-green"},k={class:"card rounded-0 py-4 mb-3"},I=s("div",{class:"card-header border-0 bg-white px-4 py-0 text-custom_medium-green"},[s("h3",{class:"fw-bold h4"},"訂單資訊")],-1),P={class:"card-body px-4py-0"},A={class:"list-group list-group-flush px-3"},S={class:"list-group-item px-0"},B={class:"d-flex mt-2"},D={class:"w-100 d-flex flex-column text-custom_medium-green"},N={class:"d-flex justify-content-between"},q=s("p",{class:"mb-0"},"Email",-1),C={class:"d-flex justify-content-between"},H=s("p",{class:"mb-0"},"姓名",-1),$={class:"d-flex justify-content-between"},F=s("p",{class:"mb-0"},"電話",-1),L={class:"d-flex justify-content-between"},M=s("p",{class:"mb-0"},"地址",-1),R={class:"d-flex justify-content-between"},U=s("p",{class:"mb-0"},"付款狀態",-1),z={class:"col-md-6 text-custom_medium-green"},G={class:"card rounded-0 py-4 mb-3"},J=s("div",{class:"card-header border-bottom-0 bg-white px-4 py-0"},[s("h3",{class:"fw-bold h4"},"訂單內容")],-1),K={class:"card-body px-4 py-0"},Q={class:"list-group list-group-flush"},W={class:"d-flex mt-2 text-custom_medium-green"},X=["src","alt"],Y={class:"w-100 d-flex flex-column"},Z={class:"d-flex justify-content-between fw-bold"},ss={class:"d-flex justify-content-between mt-auto"},ts={class:"mb-0"},es={class:"mb-0"},os={class:"list-group-item px-0 pb-0 text-custom_medium-green"},ds={class:"d-flex justify-content-between mt-2"},cs=s("p",{class:"mb-0 h4"},"總計",-1),is={class:"mb-0 h4"},rs=s("div",{class:"text-end mt-4"},[s("button",{type:"button",class:"btn btn-custom_btn-color text-white"},"確認付款")],-1);function ls(l,d,ns,_s,o,c){const b=O("router-link");return r(),i("div",E,[s("div",V,[s("div",T,[s("form",{onSubmit:d[0]||(d[0]=h((...t)=>c.payOrder&&c.payOrder(...t),["prevent"]))},[s("div",k,[I,s("div",P,[s("ul",A,[s("li",S,[s("div",B,[s("div",D,[s("div",N,[q,s("p",null,e(o.order.user.email),1)]),s("div",C,[H,s("p",null,e(o.order.user.name),1)]),s("div",$,[F,s("p",null,e(o.order.user.tel),1)]),s("div",L,[M,s("p",null,e(o.order.user.address),1)]),s("div",R,[U,s("p",{class:x({"text-success":o.order.is_paid})},e(o.order.is_paid?"付款完成":"尚未付款"),3)])])])])])])])],32)]),s("div",z,[s("form",{onSubmit:d[1]||(d[1]=h((...t)=>c.payOrder&&c.payOrder(...t),["prevent"]))},[s("div",G,[J,s("div",K,[s("ul",Q,[(r(!0),i(v,null,y(o.order.products,t=>{var n,_,a,u;return r(),i("li",{key:t.id,class:"list-group-item px-0"},[s("div",W,[s("img",{src:(n=t.product)==null?void 0:n.imageUrl,alt:(_=t.product)==null?void 0:_.title,class:"me-2",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,X),s("div",Y,[s("div",Z,[s("h5",null,e((a=t.product)==null?void 0:a.title),1)]),s("div",ss,[s("p",ts,[s("small",null,"x"+e(t.qty),1)]),s("p",es,"NT$ "+e((u=t.product)==null?void 0:u.price),1)])])])])}),128)),s("li",os,[s("div",ds,[cs,s("p",is,"NT$ "+e(o.order.total),1)])])])])]),g(b,{to:"/orderSuccess"},{default:w(()=>[rs]),_:1})],32)])])])}const us=f(j,[["render",ls]]);export{us as default};
