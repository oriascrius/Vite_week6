import{_ as V,R as I,a as m,L as S,m as x,c as a,b as t,t as r,d as c,w as n,f as C,G as E,F as d,l as g,H as T,r as u,o as l,e as _,n as L,I as A,E as B,p as N,k as q}from"./index-557675f0.js";import{A as D,N as R,S as U,a as H}from"./navigation.min-9dfdb2a0.js";import{c as v}from"./cart-8cc17971.js";const{VITE_API:w,VITE_PATH:b}={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"qoqvuedemo",BASE_URL:"/Vite_week6/",MODE:"production",DEV:!1,PROD:!0},M={name:"ProductView",data(){return{product:{},similarProducts:[],qty:1,productItemId:"",modules:[D,R],navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}},components:{RouterView:I,Swiper:U,SwiperSlide:H},methods:{...m(v,["addToCart","getCarts"]),...m(S,["showLoading","hideLoading"]),getProducts(){const{id:s}=this.$route.params;this.productItemId=s,this.$http.get(`${w}api/${b}/product/${s}`).then(o=>{this.product=o.data.product,this.getCategoryProducts(),this.hideLoading()}).catch(o=>{alert(o.response.data.message),this.hideLoading()})},getCategoryProducts(){const{category:s}=this.product;this.$http.get(`${w}api/${b}/products?category=${s}`).then(o=>{this.similarProducts=o.data.products}).catch(o=>{alert(o.response.data.message)})},toggleId(s){this.$router.push(`/product/${s}`),this.id=s,this.getProducts()}},computed:{...x(v,["cart","total","final_total"])},mounted(){this.showLoading(),this.getProducts()}},h=s=>(N("data-v-9a5f2857"),s=s(),q(),s),$={class:"container text-custom_medium-green"},z={class:"row mt-3"},F={class:"col-md-5"},O=["src","alt"],G={class:"col-md-7"},j={class:"row list-unstyled"},J={class:"col-md-6 mt-4"},K={class:"mt-3 fw-bold"},Q={class:"col-md-6"},W={"aria-label":"breadcrumb"},X={class:"breadcrumb list-unstyled py-3"},Y={class:"breadcrumb-item"},Z={class:"breadcrumb-item"},tt={class:"breadcrumb-item active","aria-current":"page"},et={class:"badge bg-custom_dark-green rounded-pill"},st={class:"mt-5"},ot={class:"input-group mt-5 w-75"},it=["value"],rt=h(()=>t("hr",null,null,-1)),ct=h(()=>t("h3",{class:"mt-7"},"相關商品",-1)),nt={class:"card"},lt=["onClick"],at=h(()=>t("div",{class:"overlay"},null,-1)),dt=[at],ut={class:"card-body"},pt={class:"card-title"},_t={class:"text-right pr-2"};function ht(s,o,mt,gt,e,y){const p=u("router-link"),f=u("swiper-slide"),P=u("swiper"),k=u("router-view");return l(),a(d,null,[t("div",$,[t("div",z,[t("div",F,[t("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-100",height:"400"},null,8,O)]),t("div",G,[t("ul",j,[t("li",J,[t("h4",K,r(e.product.title),1)]),t("li",Q,[t("nav",W,[t("ul",X,[t("li",Y,[c(p,{to:"/products"},{default:n(()=>[_("全部商品")]),_:1})]),t("li",Z,[c(p,{to:"/products"},{default:n(()=>[_(r(e.product.category),1)]),_:1})]),t("li",tt,[c(p,{to:`/product/${this.productItemId}`},{default:n(()=>[_(r(e.product.title),1)]),_:1},8,["to"])])])])]),t("li",null,[t("span",et,r(e.product.category),1)]),t("li",null,[t("p",st,"描述："+r(e.product.description),1)]),t("li",null,[t("p",null,"內容："+r(e.product.content),1)]),t("li",null,[t("h5",null,"NT$ "+r(e.product.price),1)]),t("div",ot,[C(t("select",{class:"form-select","onUpdate:modelValue":o[0]||(o[0]=i=>e.qty=i)},[(l(),a(d,null,g(20,i=>t("option",{value:i,key:i+"1233"},r(i),9,it)),64))],512),[[E,e.qty]]),t("button",{type:"button",class:"btn btn-custom_btn-color text-white",onClick:o[1]||(o[1]=i=>s.addToCart(e.product.id,e.qty))}," 加入商品 ")])])])]),rt,e.similarProducts.length?(l(),a(d,{key:0},[ct,t("div",null,[c(P,{slidesPerView:1,spaceBetween:10,navigation:e.navigation,breakpoints:{425:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:4,spaceBetween:10}},modules:e.modules,class:"mySwiper"},{default:n(()=>[(l(!0),a(d,null,g(e.similarProducts,i=>(l(),L(f,{key:i.id},{default:n(()=>[t("div",nt,[t("div",{style:A([{"min-height":"300p,                 background-size: cover","background-position":"center",cursor:"pointer",position:"relative"},{backgroundImage:`url(${i.imageUrl})`}]),onClick:B(vt=>y.toggleId(i.id),["prevent"])},dt,12,lt),t("div",ut,[t("h6",pt,r(i.title),1),t("div",_t,"NT$ "+r(i.price),1)])])]),_:2},1024))),128))]),_:1},8,["navigation","modules"])])],64)):T("",!0)]),c(k)],64)}const ft=V(M,[["render",ht],["__scopeId","data-v-9a5f2857"]]);export{ft as default};
